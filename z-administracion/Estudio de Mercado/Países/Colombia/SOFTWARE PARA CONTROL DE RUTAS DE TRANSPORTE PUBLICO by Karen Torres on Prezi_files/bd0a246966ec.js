(function(){var __bind=function(fn,me){return function(){return fn.apply(me,arguments)}};window.UnsupportedChecker=function(){function UnsupportedChecker(){this.fixContentCssForCFBar=__bind(this.fixContentCssForCFBar,this);this.checkIt=__bind(this.checkIt,this);this.checkForCFBar=__bind(this.checkForCFBar,this);this.cfMissing=false;this.cfBarChecked=false}UnsupportedChecker.prototype.check=function(starterFunc){this.starterFunc=starterFunc;this.cfc=$(".chromeframecontent");if(this.cfc.length===0){return this.starterFunc()}else{this.forcePopup=this.cfc.attr("data-force-popup")==="1"||!!$.cookie("cfInstallForcePopup");$.cookie("cfInstallForcePopup",0);return this.checkIt()}};UnsupportedChecker.prototype.checkForCFBar=function(){var _this=this;if(this.cfBarChecked){return}this.cfBarChecked=true;if($(".chromeFrameOverlayCloseBar").length&&$(".chromeFrameOverlayCloseBar").is(":visible")){return $("#chromeFrameCloseButton").off("click").on("click",function(){$(".chromeFrameOverlayContent, .chromeFrameOverlayUnderlay").css({display:"none"});_this.starterFunc();if(_this.cfMissing){return _this.fireCFBar()}})}else{this.starterFunc();if(this.cfMissing){return this.fireCFBar()}}};UnsupportedChecker.prototype.checkIt=function(){var _this=this;if(CFInstall.isAvailable()){return this.starterFunc()}else{setTimeout(function(){return _this.checkForCFBar()},1e3);return CFInstall.check({mode:"overlay",onmissing:function(){return _this.cfMissing=true},destination:document.URL,preventPrompt:!this.forcePopup})}};UnsupportedChecker.prototype.fixContentCssForCFBar=function(){if($("#content").length){$("#content").animate({top:$.fn.activebar.container_height+"px"});$("#content").css("position","fixed");$("#content").css("height","auto");return $("#content").css("bottom","0px")}};UnsupportedChecker.prototype.fireCFBar=function(){var _this=this;this.fixContentCssForCFBar();setTimeout(function(){return _this.fixContentCssForCFBar()},2e3);return $.chromeframebar.fire({language:"translated_by_getText",text:{translated_by_getText:gettext("Prezi.com is missing a plugin required to work correctly. Click here to install Google Chrome Frame\u2026")},force:true,destination:document.URL,icons_path:this.cfc.attr("data-icon-dir")})};return UnsupportedChecker}()}).call(this);
